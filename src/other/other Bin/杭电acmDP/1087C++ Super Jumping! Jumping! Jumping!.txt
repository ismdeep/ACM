#include<iostream>
using namespace std;
int main()
{
int n,i,k;
int num[1020],sum[1020];
while(cin>>n && n!=0)
{
   for(i=0;i<n;i++)
    cin>>num[i];
   sum[0]=num[0];
   for(i=1;i<n;i++)
   {
    sum[i]=num[i];
    for(k=0;k<i;k++)
    {
     if(num[k]<num[i] && sum[k]+num[i]>sum[i])
     {
      sum[i]=sum[k]+num[i];
     }
    }
   }
   int max=sum[0];
   for(i=1;i<n;i++)
   {
    if(sum[i]>max)max=sum[i];
   }
   cout<<max<<endl;
}
return 0;
}

