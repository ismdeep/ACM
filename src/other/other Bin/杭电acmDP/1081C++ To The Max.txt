#include<vector>
#include<algorithm>
#include<sstream>
#include<fstream>
#include<algorithm>
#include<iomanip>
#include<iostream>
using namespace std;
int main()
{
    int ar1[105][105]={0};
    int ar2[105][105]={0};                  //第i行第一个到第j个的和
    for(int n;cin>>n;)
    {
        for(int i=1;i<=n;i++)              //hang
            for(int j=1;j<=n;j++)
            {cin>>ar1[ i][j];ar2[ i][j]=ar1[ i][j];}
           for(int i=1;i<=n;i++)
                for(int j=2;j<=n;j++)
                    ar2[ i][j]+=ar2[ i][j-1];
        int    max=-99999999;
        for(int i=0;i<n;i++)                //控制行
            for(int t=0;t<n;t++)            //控制列
            for(int j=t+1;j<=n;j++)
            { 
                int sum=0;
                for(int k=i+1;k<=n;k++)
                {
                   sum+=ar2[k][j]-ar2[k][t];//第K行第t+1个到第j个和
                   if(sum>max) max=sum;
                }
            }
            cout<<max<<"\n";
    }
}
//简单说下，就是和1003差不多的方法（没做过那题就先解决那题再说吧）横向枚举出循环相加的结果，纵向就是和1003一样的方法
